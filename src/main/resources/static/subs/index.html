<!doctype html><html lang="ko"><head>
    <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="/css/app.css"><title>구독/광고</title>
</head><body onload="requireAuth()">
<div id="header"></div>
<div class="container">
    <div class="card">
        <h2>상태</h2>
        <div class="row">
            <button class="primary" onclick="status()">구독 상태 조회</button>
            <button onclick="ads()">광고 설정 조회</button>
            <button onclick="verify()">구독 검증(dev)</button>
        </div>
        <pre id="out" style="white-space:pre-wrap"></pre>
    </div>
</div>
<div id="footer"></div><div class="toast"></div>
<script src="/js/app.js"></script>
<script>
    include('#header','/dev/header.html'); include('#footer','/dev/footer.html');

    async function status(){ out(await api('/subs/status')); }
    async function ads(){ out(await api('/ads/config')); }
    async function verify(){
      out(await api('/subs/verify',{method:'POST', body: JSON.stringify({
        platform:"ANDROID", productId:"sub_premium_monthly",
        purchaseToken:"dev-"+Date.now(), devMode:true
      })}));
    }
    function out(data){ document.getElementById('out').textContent=JSON.stringify(data,null,2); }
</script>
</body></html>